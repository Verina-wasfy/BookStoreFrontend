<form class="dialogBox" [formGroup]="bookForm" (ngSubmit)="onSubmit(bookForm)"style=" margin-top: 7%;">
  <div class="times">
    <button class="fas fa-times" mat-button (click)="onNoClick()">Close</button>
  </div>
  <h2 mat-dialog-title>
    {{ this.book.bookID == undefined ? "Add Book" : "Edit Book" }}
  </h2>
  <hr />
  <div><input type="number" hidden id="bookID" /></div>
  <div class="row px-4 m-0">
    <div class="col-md-12">
      <label for="Name" class="form-label">Book Name</label>
      <input
        type="text"
        class="form-control"
        id="Name"
        formControlName="title"
      />
      <div
        *ngIf="getControl('title').touched && getControl('title').invalid"
        class="error-input"
      >
        <div *ngIf="getControl('title').errors?.required">
          This field is required
        </div>
      </div>
    </div>
  </div>

  <div class="row px-4">
    <div class="col-md-6">
      <label for="isbn" class="form-label">ISBN</label>
      <input
        type="text"
        class="form-control"
        id="isbn"
        formControlName="isbn"
      />
      <div
        *ngIf="getControl('isbn').touched && getControl('isbn').invalid"
        class="error-input"
      >
        <div *ngIf="getControl('isbn').errors?.required">
          This field is required
        </div>
        <div *ngIf="getControl('isbn').errors?.pattern">
          Only 10 digits allowed
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <label for="isbN13" class="form-label">ISBN13</label>
      <input
        type="text"
        class="form-control"
        id="isbN13"
        formControlName="isbN13"
      />
      <div
        *ngIf="getControl('isbN13').touched && getControl('isbN13').invalid"
        class="error-input"
      >
        <div *ngIf="getControl('isbN13').errors?.required">
          This field is required
        </div>
        <div *ngIf="getControl('isbN13').errors?.pattern">
          Only 13 digits allowed
        </div>
      </div>
    </div>
  </div>

  <div class="row px-4">
    <div class="col-md-6">
      <label for="numberPages" class="form-label">Number of pages</label>
      <input
        type="text"
        class="form-control"
        id="numberPages"
        formControlName="numberPages"
      />
      <div
        *ngIf="getControl('numberPages').touched && getControl('numberPages').invalid"
        class="error-input"
      >
        <div *ngIf="getControl('numberPages').errors?.required">
          This field is required
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <label for="avgRating" class="form-label">Average rating</label>
      <input

        type="text"
        class="form-control"
        id="avgRating"
        formControlName="avgRating"
      />
      <div
        *ngIf="
          getControl('avgRating').touched && getControl('avgRating').invalid
        "
        class="error-input"
      >
        <div *ngIf="getControl('avgRating').errors?.required">
          This field is required
        </div>
        <div *ngIf="getControl('avgRating').errors?.pattern">
          Only numbers allowed
        </div>
                <div *ngIf="getControl('avgRating').errors?.max">Maximum value is 5.00</div>

      </div>
    </div>
  </div>

  <div class="row px-4">
    <div class="col-md-6">
      <label for="ratingCount" class="form-label">Rating Count</label>
      <input
        type="text"
        class="form-control"
        id="ratingCount"
        formControlName="ratingCount"
      />
      <div
        *ngIf="
          getControl('ratingCount').touched && getControl('ratingCount').invalid
        "
        class="error-input"
      >
        <div *ngIf="getControl('ratingCount').errors?.required">
          This field is required
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <label for="textRreviewsCount" class="form-label"
        >Text reviews count</label
      >
      <input
        type="textRreviewsCount"
        class="form-control"
        id="textRreviewsCount"
        formControlName="textRreviewsCount"
      />
      <div
        *ngIf="
          getControl('textRreviewsCount').touched &&
          getControl('textRreviewsCount').invalid
        "
        class="error-input"
      >
        <div *ngIf="getControl('textRreviewsCount').errors?.required">
          This field is required
        </div>
      </div>
    </div>
  </div>

  <div class="row px-4">
    <div class="col-md-6">

      <label for="publicationDate" class="form-label" placeholder="Pick a date">Publication Date</label>
     <mat-form-field class="dInput"  floatLabel='never'>
            <input matInput
              [matDatepicker]="publicationDate"
              formControlName="publicationDate">
            <mat-datepicker-toggle matSuffix [for]="publicationDate"></mat-datepicker-toggle>
            <mat-datepicker #publicationDate ></mat-datepicker>
          </mat-form-field>
      <div
        *ngIf="
          getControl('publicationDate').touched &&
          getControl('publicationDate').invalid
        "
        class="error-input"
      >
        <div *ngIf="getControl('publicationDate').errors?.required">
          This field is required
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <label for="publisherID" class="form-label">Publisher</label>
      <mat-select
        class="form-control"
        id="publisherID"
        formControlName="publisherID"
      >
        <mat-option  *ngFor="let item of pubs" [value]="item.publID">{{ item.publisherName }}</mat-option>
      </mat-select>
      <!-- <input type="text"  class="form-control" id="publisherID" formControlName="publisherID"> -->
      <div
        *ngIf="
          getControl('publisherID').touched && getControl('publisherID').invalid
        "
        class="error-input"
      >
        <div *ngIf="getControl('textReviewsCount').errors?.required">
          This field is required
        </div>
      </div>
    </div>
  </div>
 <div class="row px-4">
    <div class="col-md-6">
      <label for="langID" class="form-label">Language</label>
      <mat-select
        class="form-control"
        id="langID"
        formControlName="langID"
      >
        <mat-option *ngFor="let item of langs" [value]="item.langID">{{ item.langName }}</mat-option>
      </mat-select>
      <!-- <input type="text"  class="form-control" id="publisherID" formControlName="publisherID"> -->
      <div
        *ngIf="
          getControl('langID').touched && getControl('langID').invalid
        "
        class="error-input"
      >
        <div *ngIf="getControl('langID').errors?.required">
          This field is required
        </div>
      </div>
    </div>

     <div class="col-md-6">
      <label for="authID" class="form-label">Author</label>
      <mat-select
        class="form-control"
        id="authID"
        formControlName="authID"
      >
        <mat-option *ngFor="let item of auths" [value]="item.authorID">{{ item.authName }}</mat-option>
      </mat-select>
      <div
        *ngIf="
          getControl('authID').touched && getControl('authID').invalid
        "
        class="error-input"
      >
        <div *ngIf="getControl('authID').errors?.required">
          This field is required
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-md-4"></div>
    <div class="col-md-4">
      <button type="submit" mat-button class="k-btn" cdkFocusInitial>
        Submit
      </button>
    </div>
    <div class="col-md-4"></div>
  </div>
</form>
